# Contributing

  

Instructions on how to contribute to the project.

  

## Overview

  

Contributions to XCStrings Tool are welcome!

  

- For ideas and questions: [Visit the Discussions](https://github.com/liamnichols/xcstrings-tool/discussions)

- For bugs: [Open an Issue](https://github.com/liamnichols/xcstrings-tool/issues/choose)

- For contributions: [Open a Pull Request](https://github.com/liamnichols/xcstrings-tool/compare)

  

## Running tests

  

To build and run all test cases open the xcstrings-tool hit âŒ˜U (command + U).

  

### Snapshot Tests in XCStrings Tool

  

The majority of tests for the tool are implemented using snapshot tests. Snapshot tests compare a "snapshot" of the output generated by a previous version of the software with the output generated by a subsequent version. The test is passed if the outputs are the same. xcstrings-tool uses the Swift implementation for snapshot testing provided by the [swift-snapshot-testing](https://github.com/pointfreeco/swift-snapshot-testing) package.

  

Snapshot testing is handled by the [GenerateTests](https://github.com/liamnichols/xcstrings-tool/blob/main/Tests/XCStringsToolTests/GenerateTests.swift) class. When the snapshot tests are run, XCStrings Tool generates Swift code using .xcstrings [files](https://github.com/liamnichols/xcstrings-tool/tree/main/Tests/XCStringsToolTests/__Fixtures__). These files are then compared to the [snapshots](https://github.com/liamnichols/xcstrings-tool/tree/main/Tests/XCStringsToolTests/__Snapshots__/GenerateTests).

  

### Failed Snapshot Tests

  

If there is a discrepancy between a generated file and its corresponding snapshot, the test will fail. This means that either:

* The changes that have been made have introduced a bug; or

* The changes that have been made are expected to generate a new swift file that differs from the snapshot. In this case the relevant snapshot file in [GenerateTests](https://github.com/liamnichols/xcstrings-tool/tree/main/Tests/XCStringsToolTests/__Snapshots__/GenerateTests) must be updated.

  

If a test fails and for any reason you want to view the generated Swift files:

1. Comment out the trailing closure taken by `addTearDownBlock` in [GenerateTests.swift](https://github.com/liamnichols/xcstrings-tool/blob/main/Tests/XCStringsToolTests/GenerateTests.swift) as follows:

  

```

//try? fileManager.removeItem(at: outputURL)

```

  

2.  Rerun the tests using command + U in Xcode.

  

This will prevent the generated files from being removed after the test is run. The filepath for these files will be printed in the console.

**N.B.** by commenting out this line you will be generating potentially unwanted Swift files every time you run the snapshot tests.
